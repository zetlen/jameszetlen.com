!function(){"use strict";function e(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function t(e){return{orbison:r,rhombille:l,"muller-lyer":a,sander:d}[e.id]}var n=function(){function e(){if(!n){n=!0;var e=document.body,t=document.body.firstChild,o=document.createElement("div");o.id="fontdetectHelper",i=document.createElement("span"),i.innerText="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o.appendChild(i),e.insertBefore(o,t),o.style.position="absolute",o.style.visibility="hidden",o.style.top="-200px",o.style.left="-100000px",o.style.width="100000px",o.style.height="200px",o.style.fontSize="100px"}}function t(e,t){return e instanceof Element?window.getComputedStyle(e).getPropertyValue(t):window.jQuery?$(e).css(t):""}var n=!1,o=["serif","sans-serif","monospace","cursive","fantasy"],i=null;return{onFontLoaded:function(t,o,i,l){if(t){var r=l&&l.msInterval?l.msInterval:100,a=l&&l.msTimeout?l.msTimeout:2e3;if(o||i){if(n||e(),this.isFontLoaded(t))return void(o&&o(t));var d=this,s=(new Date).getTime(),h=setInterval(function(){if(d.isFontLoaded(t))return clearInterval(h),void o(t);var e=(new Date).getTime();e-s>a&&(clearInterval(h),i&&i(t))},r)}}},isFontLoaded:function(t){var l=0,r=0;n||e();for(var a=0;a<o.length;++a){if(i.style.fontFamily='"'+t+'",'+o[a],l=i.offsetWidth,a>0&&l!=r)return!1;r=l}return!0},whichFont:function(e){for(var n=t(e,"font-family"),i=n.split(","),l=i.shift();l;){l=l.replace(/^\s*['"]?\s*([^'"]*)\s*['"]?\s*$/,"$1");for(var r=0;r<o.length;r++)if(l==o[r])return l;if(this.isFontLoaded(l))return l;l=i.shift()}return null}}}(),o=function(){function e(e){return e-Math.floor(Math.log(Math.random()*Math.pow(Math.E,e)))}function t(e,t,n,o,i){var l=n/2;e.push(["moveTo",o,i],["bezierCurveTo",o+l,i,o+l,i+t,o,i+t],["bezierCurveTo",o-l,i+t,o-l,i,o,i])}function n(t,n,o,i){var l,r=t.slice();if(o)for(l=e(r.length);l--;)r.splice(Math.floor(Math.random()*r.length),1);r.forEach(function(e){var t=e[0];n[t].apply(n,e.slice(1).map(function(e){return e*i}))})}var o=400,i=[["moveTo",22,95],["lineTo",297,10],["lineTo",383,63],["lineTo",383,92],["lineTo",109,181],["moveTo",109,152],["lineTo",383,63],["moveTo",22,124],["lineTo",283,39],["lineTo",327,69],["lineTo",68,154],["moveTo",67,125],["lineTo",283,58],["lineTo",307,76],["moveTo",283,58],["lineTo",283,39]];return t(i,28.5,24,22,95.5),t(i,28.5,24,67,125.5),t(i,28.5,24,109,152.5),function(e,t,l){var r=e.getContext("2d"),a=e.width/o;r.clearRect(0,0,e.width,e.height),r.strokeStyle=t.light,r.lineWidth=2,r.beginPath(),n(i,r,l,a),r.stroke()}}(),i=function(e,t,o,i){function l(){t.font=i.font,t.textBaseline="bottom",t.fillStyle=o.light,t.fillText(i.text,1,e.height-1)}n.onFontLoaded("Cabin",l,l,1e3)},l=function(){function e(e,i,l,a){var s,h;for(s=0;i>s;++s)for(h=0;l>h;++h)t(e,s*r+h%2*o,h*(d+n)+(a||0))}function t(e,t,i){e.beginPath(),e.moveTo(t+o,i),e.lineTo(t+r,i+n),e.lineTo(t+r,i+n+d),e.lineTo(t+o,i+l),e.lineTo(t,i+d+n),e.lineTo(t,i+n),e.closePath(),e.stroke()}var n,o,l,r,a=.523598776,d=30;return n=Math.sin(a)*d,o=Math.cos(a)*d,l=d+2*n,r=2*o,function(t,n,o,l){var r=t.getContext("2d"),a=t.width,s=t.height;r.lineWidth=2,r.strokeStyle=o?n.dark:n.light,e(r,a,s),r.strokeStyle=o?n.light:n.dark,e(r,a,s,-d),o&&i(t,r,n,l)}}(),r=function(e,t,n,o){function l(e,t,n,o){e.moveTo(n,0),e.lineTo(n+t,o/2),e.lineTo(n,o)}var r=e.getContext("2d");r.lineWidth=3;var a=50,d=500,s=120;if(!n){r.strokeStyle=t.light,r.beginPath();for(var h=-d;h<e.width;h+=a)l(r,d,h,e.height);r.stroke()}r.strokeStyle=t.dark,r.beginPath(),r.moveTo(e.width/2,e.height/2-s),r.lineTo(e.width/2+s,e.height/2),r.lineTo(e.width/2,e.height/2+s),r.lineTo(e.width/2-s,e.height/2),r.lineTo(e.width/2,e.height/2-s),r.stroke(),n&&i(e,r,t,o)},a=function(e,t,n,o){function l(e,t,n){var o=e?t+m:t-m;r.moveTo(o,n-m),r.lineTo(t,n),r.lineTo(o,n+m)}var r=e.getContext("2d");r.lineWidth=3;for(var a,d,s=t.light,h=t.dark,c=[.3,.15],u=3,f=(e.height-e.height*c[0]*2)/(u-1),v=e.width-e.width*c[1]*2,m=.1*v/Math.sqrt(2),g=[[!0,!1],[!1,!0],[!1,!1]],y=0;u>y;y++)r.strokeStyle=h,r.beginPath(),a=e.width*c[1],d=e.height*c[0]+f*y-r.lineWidth,r.moveTo(a,d),r.lineTo(e.width-a,d),r.closePath(),r.stroke(),n||(r.strokeStyle=s,r.beginPath(),l(g[y][0],a,d),l(g[y][1],e.width-a,d),r.stroke());n&&i(e,r,t,o)},d=function(e,t,n,o){var l=e.getContext("2d");l.lineWidth=3;var r=60,a=80,d=e.width-2*r,s=(e.height+a)/2;l.strokeStyle=t.dark,l.moveTo(r,s-a),l.lineTo(d,s),l.lineTo(e.width,s-a),l.stroke(),n||(l.strokeStyle=t.light,l.beginPath(),l.moveTo(1,s),l.lineTo(r,s-a),l.lineTo(e.width,s-a),l.lineTo(e.width-r,s),l.lineTo(1,s),l.moveTo(d,s),l.lineTo(d+r,s-a),l.stroke()),n&&i(e,l,t,o)},s={dark:"#510f00",light:"#956233",verylight:"#fff9ed"};e(function(){function e(){o(r,s,!0)}function n(){o(r,s,!1)}var i=window.getComputedStyle(document.querySelector("h1")),l=i.fontSize+" "+i.fontFamily,r=document.getElementById("blivet");[].slice.call(document.querySelectorAll("a")).forEach(function(t){t.addEventListener("mouseover",e),t.addEventListener("mouseout",n)}),n(),[].slice.call(document.querySelectorAll(".treachery > ul > li > a")).forEach(function(e){var n=e.querySelector("span").textContent.toUpperCase(),o=e.querySelector("canvas"),i=t(o);i(o,s,!1,{font:l,text:n});var r=o.cloneNode();r.id=o.id+"_flipped",r.style.display="none",o.parentNode.appendChild(r),i(r,s,!0,{font:l,text:n}),e.addEventListener("mouseover",function(){o.style.display="none",r.style.display="block"}),e.addEventListener("mouseout",function(){o.style.display="block",r.style.display="none"})})}),function(e,t,n,o,i,l,r){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,l=t.createElement(n),r=t.getElementsByTagName(n)[0],l.async=1,l.src=o,r.parentNode.insertBefore(l,r)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-3025466-4","auto"),ga("send","pageview")}();